(function(){"use strict";self.addEventListener("message",function(x){const{odd1:m,odd2:f,len:J,pers:c}=x.data,O=J-2*m;let u={pbests:[],nums:null,utilization:0};const N=(l,n)=>{S(l,JSON.parse(JSON.stringify(n)))},S=(l,n,t=[])=>{const d=[];let s=l,e=0;const r=n[e].extra?n[e].len+(n[e].extra||0):n[e].len;for(;s>0&&e<n.length;){for(;s+f>r&&n[e].num>0;){const i=d.findIndex(o=>o.len==r);i>-1?d[i].num+=1:d.push({len:n[e].len,extra:n[e].extra,num:1}),n[e].num-=1,s=s-r-f,s<0&&(s=0)}e++}if(s!=l){const i=t.findIndex(o=>JSON.stringify(o.pers)==JSON.stringify(d));i>-1?t[i].nums+=1:t.push({pers:d,odd:s,nums:1}),S(l,JSON.parse(JSON.stringify(n)),JSON.parse(JSON.stringify(t)))}else{let i=0,o=0;for(let a in t)i+=t[a].nums,o+=t[a].odd*t[a].nums;const g=((1-o/(O*i))*100).toFixed(2);g>u.utilization&&(u.utilization=g,u.nums=i,u.pbests=t)}};c.sort((l,n)=>n.len-l.len),N(O,c),self.postMessage({pbests:u,odd1:m,odd2:f})})})();
